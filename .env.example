# =============================================================================
# PyBase Environment Configuration
# =============================================================================
# Copy this file to .env and update the values for your environment
# NEVER commit .env files with real secrets to version control

# =============================================================================
# Application Settings
# =============================================================================
ENVIRONMENT=development
DEBUG=true
LOG_LEVEL=INFO

# Secret key for JWT tokens - REQUIRED!
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(64))"
SECRET_KEY=

# Application name and version
APP_NAME=PyBase
APP_VERSION=0.1.0

# API settings
API_V1_PREFIX=/api/v1

# CORS origins (comma-separated)
CORS_ORIGINS=http://localhost:3000,http://localhost:8000

# =============================================================================
# Database Configuration
# =============================================================================
# PostgreSQL connection string
# Format: postgresql+asyncpg://username:password@host:port/database?sslmode=require
# Example local: postgresql+asyncpg://pybase:pybase@localhost:5432/pybase
# Example Neon: postgresql+asyncpg://user:pass@ep-xxx.us-east-1.aws.neon.tech/neondb?sslmode=require
DATABASE_URL=postgresql+asyncpg://CHANGE_ME_IN_PRODUCTION:CHANGE_ME_IN_PRODUCTION@localhost:5432/pybase

# Connection pool settings
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=10
DB_POOL_TIMEOUT=30

# =============================================================================
# Redis Configuration
# =============================================================================
# Redis connection string
# Format: redis://[:password@]host:port/db
REDIS_URL=redis://localhost:6379/0

# Redis settings
REDIS_MAX_CONNECTIONS=50

# =============================================================================
# Object Storage (S3/MinIO)
# =============================================================================
S3_ENDPOINT_URL=http://localhost:9000
S3_ACCESS_KEY=minioadmin
S3_SECRET_KEY=minioadmin
S3_BUCKET_NAME=pybase
S3_REGION=us-east-1

# File upload limits
MAX_UPLOAD_SIZE_MB=100
ALLOWED_EXTENSIONS=pdf,dxf,dwg,ifc,stp,step,png,jpg,jpeg,gif,webp,xlsx,csv

# =============================================================================
# Authentication Settings
# =============================================================================
# JWT token settings
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# Password hashing
PASSWORD_MIN_LENGTH=8

# API key settings
API_KEY_PREFIX=pybase_

# =============================================================================
# Email Configuration (Optional)
# =============================================================================
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_USER=
SMTP_PASSWORD=
SMTP_FROM_EMAIL=noreply@pybase.dev
SMTP_FROM_NAME=PyBase
SMTP_TLS=true

# =============================================================================
# CAD/PDF Extraction Settings
# =============================================================================
# Werk24 API (for engineering drawing extraction)
# Get your API key at: https://werk24.io
WERK24_API_KEY=

# Tesseract OCR path (for PDF text extraction)
TESSERACT_CMD=/usr/bin/tesseract

# Extraction settings
EXTRACTION_MAX_PAGES=100
EXTRACTION_DPI=300
EXTRACTION_TIMEOUT_SECONDS=300

# =============================================================================
# Search Settings (Optional - Meilisearch)
# =============================================================================
MEILISEARCH_URL=http://localhost:7700
MEILISEARCH_API_KEY=

# =============================================================================
# Celery / Background Tasks
# =============================================================================
CELERY_BROKER_URL=redis://localhost:6379/1
CELERY_RESULT_BACKEND=redis://localhost:6379/2

# =============================================================================
# Monitoring & Observability (Optional)
# =============================================================================
# Sentry DSN for error tracking
SENTRY_DSN=

# OpenTelemetry settings
OTEL_EXPORTER_OTLP_ENDPOINT=
OTEL_SERVICE_NAME=pybase

# =============================================================================
# Rate Limiting
# =============================================================================
RATE_LIMIT_PER_MINUTE=100
RATE_LIMIT_PER_HOUR=1000

# =============================================================================
# Feature Flags
# =============================================================================
ENABLE_REGISTRATION=true
ENABLE_API_KEYS=true
ENABLE_EXTRACTION=true
ENABLE_WEBSOCKETS=true
