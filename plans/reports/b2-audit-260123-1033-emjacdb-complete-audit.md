# B2 File Server Audit Report

**Bucket:** EmjacDB
**Account ID:** fd102a3aebfc
**Audit Date:** 2026-01-23
**Audited By:** Claude Code

---

## Executive Summary

| Metric | Value |
|--------|-------|
| Total Files | **10,000** |
| Total Storage | **54.82 GB** |
| Unique Files (SHA1) | **9,857** |
| Duplicate Files | **143 (1.4%)** |
| Est. Monthly Storage Cost | **$0.27** |

---

## 1. Overview

The EmjacDB bucket contains **10,000 files** occupying **54.82 GB** of storage. The bucket is accessible via a restricted application key that only allows access to this specific bucket.

### Storage Breakdown
- **Average file size:** 5.61 MB
- **Smallest file:** 51 bytes
- **Largest file:** 669.80 MB
- **Storage cost:** ~$0.27/month (at $0.005/GB)

---

## 2. File Type Distribution

| Extension | Count | Percentage |
|-----------|-------|------------|
| PDF | 8,518 | 85.2% |
| MSG | 581 | 5.8% |
| CSV | 272 | 2.7% |
| DXF | 185 | 1.8% |
| DWG | 150 | 1.5% |
| ZIP | 86 | 0.9% |
| JPG | 66 | 0.7% |
| XLSX | 49 | 0.5% |
| TIF | 38 | 0.4% |
| JPEG | 22 | 0.2% |
| DOCX | 11 | 0.1% |
| PNG | 9 | 0.1% |
| DOC | 6 | 0.1% |
| Other | 7 | 0.1% |

**Key Finding:** PDF files dominate storage at 85.2% of all files.

---

## 3. Directory Structure

| Directory | File Count |
|-----------|------------|
| S:/ | 9,996 |
| JOBS CUSTOM FAB/ | 3 |
| Misc/ | 1 |

**Key Finding:** 99.96% of files are stored under the `S:/` path, indicating they were synced from a Windows network share.

---

## 4. Duplicate Analysis

- **Unique files:** 9,857 (by SHA1 hash)
- **Duplicate files:** 143 (1.4%)

### Top Duplicate Groups

| Copies | SHA1 (prefix) |
|--------|---------------|
| 4 | 63b32ed23680... |
| 3 | 9a99f6fb7501... |
| 3 | 334b51afe130... |
| 3 | f71f6f525b1e... |

Most duplicates appear to be in the Sales/Quotes folder structure with similar filenames.

---

## 5. Largest Files (>50 MB)

1. **669.8 MB** - DISNEY PROJECT U-ORLANDO, FL
2. **639.9 MB** - GREAT WOLF LODGE-NAPLES, FL
3. **556.4 MB** - DISNEY PROJECT U-ORLANDO, FL (duplicate)
4. **470.0 MB** - FWISD EASTERN HILLS ELEMENTARY SCHOOL
5. **469.0 MB** - CAPSTONE PHASE 2
6. **446.4 MB** - DIPLOMAT HOTEL PHASE-2
7. **435.6 MB** - CARNELIAN HOTEL & STARLING CLUB
8. **390.7 MB** - DPP PROJECT MEADOW
9. **381.2 MB** - CM01 PROJECT BEAR-MORRISVILLE,NC
10. **365.1 MB** - HARBOURVEST HQ- BOSTON, MA

**Recommendation:** Consider compressing or archiving old large files.

---

## 6. Content Type Issues

**99.6% of files** have `binary/octet-stream` or `application/octet-stream` content type, which is not descriptive. This makes it harder to:
- Filter by content type in the B2 console
- Apply lifecycle rules based on content type
- Optimize CDN delivery

**Recommendation:** Set proper content types (application/pdf, image/jpeg, etc.) during upload.

---

## 7. Recommendations

### High Priority
1. **Remove duplicates** - 143 duplicate files wasting ~800 MB
2. **Set proper content types** - Currently 99.6% are generic octet-stream
3. **Enable bucket encryption** - Verify SSE-B2 is enabled

### Medium Priority
4. **Compress PDFs** - 85% of storage, many could be compressed
5. **Archive old files** - Implement lifecycle rules for files >1 year old
6. **Large file review** - 50MB+ files in Sales folder could be archived

### Low Priority
7. **Enable versioning** - For accidental deletion protection
8. **Set up bucket notifications** - For upload/download monitoring

---

## 8. API Access Details

| Property | Value |
|----------|-------|
| API URL | api005.backblazeb2.com |
| Download URL | f005.backblazeb2.com |
| S3 API URL | s3.us-east-005.backblazeb2.com |
| Allowed Bucket | EmjacDB only |
| Key Capabilities | readFiles, writeFiles, deleteFiles, listFiles, shareFiles |

---

## 9. Unresolved Questions

- Are there more files beyond the 10,000 API limit? (Requires pagination with prefix filtering)
- What is the retention policy for these files?
- Should lifecycle rules be configured for automatic archiving?
- Is bucket encryption currently enabled?

---

*Report generated by Claude Code B2 Audit Tool*
